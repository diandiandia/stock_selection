2025-08-19 16:26:32 - __main__ - INFO - ====== 开始数据获取 ======
2025-08-19 16:26:32 - __main__ - INFO - 正常模式：使用3年数据
2025-08-19 16:26:32 - src.data_storage.data_saver - INFO - init saver, file path: ./data\stock_data.db
2025-08-19 16:26:33 - src.data_storage.data_saver - INFO - read stock_daily data from sqlite, sql command: select * from stock_daily where trade_date >= 20220819 and trade_date <= 20250818
2025-08-19 16:26:36 - __main__ - INFO - 获取数据完成: 20220819至20250818, 共575446条记录, 800支股票
2025-08-19 16:26:36 - __main__ - INFO - ====== 开始计算技术指标 ======
2025-08-19 16:26:48 - __main__ - INFO - 计算技术指标完成: 新增36个特征，总特征数=48
2025-08-19 16:26:48 - __main__ - INFO - 技术指标列表示例: ['CDL_HAMMER', 'CDL_DOJI', 'CDL_MORNINGSTAR', 'CDL_THREEWHITESOLDIERS', 'SAR', 'VWAP', 'StochRSI_K', 'StochRSI_D', 'price_momentum', 'volume_momentum']
2025-08-19 16:26:48 - __main__ - INFO - ====== 开始数据预处理 ======
2025-08-19 16:26:48 - __main__ - INFO - 数据质量检查...
2025-08-19 16:26:48 - src.data_preprocessing.data_preprocessor - INFO - 开始一站式数据准备和模型拟合...
2025-08-19 16:26:48 - src.data_preprocessing.data_preprocessor - INFO - 开始为所有股票准备训练数据...
2025-08-19 16:26:48 - src.data_preprocessing.data_preprocessor - INFO - 步骤1: 创建特征...
2025-08-19 16:26:48 - src.data_preprocessing.data_preprocessor - INFO - 开始创建特征，输入数据形状: (575446, 48)
2025-08-19 16:26:48 - src.data_preprocessing.data_preprocessor - INFO - 数据排序完成，股票数量: 800
2025-08-19 16:26:48 - src.data_preprocessing.data_preprocessor - INFO - 技术信号创建完成，新增特征数量: 1
2025-08-19 16:26:48 - src.data_preprocessing.data_preprocessor - INFO - 步骤2: 创建目标变量...
2025-08-19 16:26:48 - src.data_preprocessing.data_preprocessor - INFO - 开始创建目标变量，预测周期: 1
2025-08-19 16:26:48 - src.data_preprocessing.data_preprocessor - INFO - 目标变量创建完成，有效样本数: 574646, 均值: 0.0004, 标准差: 0.0255
2025-08-19 16:26:48 - src.data_preprocessing.data_preprocessor - INFO - 数据概览: 800 只股票, 575446 条记录
2025-08-19 16:26:48 - src.data_preprocessing.data_preprocessor - INFO - 步骤3: 全局特征选择...
2025-08-19 16:26:48 - src.data_preprocessing.data_preprocessor - INFO - 开始特征选择...
2025-08-19 16:26:48 - src.data_preprocessing.data_preprocessor - INFO - 原始特征数量: 42
2025-08-19 16:26:49 - src.data_preprocessing.data_preprocessor - INFO - 缺失值过滤后特征数量: 42 (过滤了 0 个)
2025-08-19 16:26:49 - src.data_preprocessing.data_preprocessor - INFO - 开始多重共线性检测，输入特征数量: 42
2025-08-19 16:26:50 - src.data_preprocessing.data_preprocessor - INFO - 预过滤高相关特征: 16 个 (相关系数>0.85)
2025-08-19 16:29:50 - src.data_preprocessing.data_preprocessor - INFO - 多重共线性检测完成: 最终选择 20 个特征
2025-08-19 16:29:50 - src.data_preprocessing.data_preprocessor - INFO - 多重共线性检测后最终特征数量: 20
2025-08-19 16:29:50 - src.data_preprocessing.data_preprocessor - INFO - 特征选择完成: 原始42 → 缺失值过滤42 → 去多重共线性20
2025-08-19 16:29:50 - src.data_preprocessing.data_preprocessor - INFO - 选择的特征: ['amount', 'amplitude', 'change', 'change_amount', 'turnover', 'MA5', 'MOM', 'ADX', 'MACD', 'MACD_Hist', 'VOL_MA5', 'OBV', 'CMF', 'CDL_BULLISH_ENGULFING', 'CDL_HAMMER', 'CDL_DOJI', 'CDL_MORNINGSTAR', 'CDL_THREEWHITESOLDIERS', 'volume_momentum', 'buy_signal_count']
2025-08-19 16:29:50 - src.data_preprocessing.data_preprocessor - INFO - 步骤4: 收集时序数据...
2025-08-19 16:30:08 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 50/800 只股票
2025-08-19 16:30:23 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 100/800 只股票
2025-08-19 16:30:38 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 150/800 只股票
2025-08-19 16:30:54 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 200/800 只股票
2025-08-19 16:31:15 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 250/800 只股票
2025-08-19 16:31:36 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 300/800 只股票
2025-08-19 16:31:53 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 350/800 只股票
2025-08-19 16:32:11 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 400/800 只股票
2025-08-19 16:32:34 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 450/800 只股票
2025-08-19 16:32:50 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 500/800 只股票
2025-08-19 16:33:07 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 550/800 只股票
2025-08-19 16:33:25 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 600/800 只股票
2025-08-19 16:33:42 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 650/800 只股票
2025-08-19 16:33:59 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 700/800 只股票
2025-08-19 16:34:14 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 750/800 只股票
2025-08-19 16:34:28 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 800/800 只股票
2025-08-19 16:34:29 - src.data_preprocessing.data_preprocessor - INFO - 数据准备完成:
2025-08-19 16:34:29 - src.data_preprocessing.data_preprocessor - INFO - - 处理股票数: 800/800
2025-08-19 16:34:29 - src.data_preprocessing.data_preprocessor - INFO - - 总样本数: 558646
2025-08-19 16:34:29 - src.data_preprocessing.data_preprocessor - INFO - - 特征维度: 20
2025-08-19 16:34:29 - src.data_preprocessing.data_preprocessor - INFO - - 时间步长: 20
2025-08-19 16:34:29 - src.data_preprocessing.data_preprocessor - INFO - 开始模型拟合，计算预处理参数...
2025-08-19 16:34:29 - src.data_preprocessing.data_preprocessor - INFO - 训练数据形状: X=(558646, 20, 20), y=(558646,)
2025-08-19 16:34:29 - src.data_preprocessing.data_preprocessor - INFO - 重塑后数据形状: (11172920, 20)
2025-08-19 16:34:29 - src.data_preprocessing.data_preprocessor - INFO - 计算缺失值填充值...
2025-08-19 16:34:33 - src.data_preprocessing.data_preprocessor - INFO - 缺失值统计: 总缺失值 0, 平均每特征 0.0
2025-08-19 16:34:33 - src.data_preprocessing.data_preprocessor - INFO - 计算异常值阈值...
2025-08-19 16:34:45 - src.data_preprocessing.data_preprocessor - INFO - 异常值统计: 总异常值 12947500, 平均每特征 647375.0
2025-08-19 16:34:45 - src.data_preprocessing.data_preprocessor - INFO - 开始数据清洗...
2025-08-19 16:34:50 - src.data_preprocessing.data_preprocessor - INFO - 处理目标变量...
2025-08-19 16:34:50 - src.data_preprocessing.data_preprocessor - INFO - 目标变量无需填充，均值: -0.0006
2025-08-19 16:34:50 - src.data_preprocessing.data_preprocessor - INFO - 计算目标变量异常值阈值...
2025-08-19 16:34:50 - src.data_preprocessing.data_preprocessor - INFO - 目标变量异常值范围: [-0.0789, 0.0776]
2025-08-19 16:34:50 - src.data_preprocessing.data_preprocessor - INFO - 目标变量异常值处理: 裁剪 9889/558646 个异常值
2025-08-19 16:34:50 - src.data_preprocessing.data_preprocessor - INFO - 拟合特征缩放器...
2025-08-19 16:34:53 - src.data_preprocessing.data_preprocessor - INFO - 拟合目标变量缩放器...
2025-08-19 16:34:53 - src.data_preprocessing.data_preprocessor - INFO - 模型拟合完成，所有预处理参数已计算
2025-08-19 16:35:00 - src.data_preprocessing.data_preprocessor - INFO - 一站式处理完成: 获得558646个样本，558646支股票
2025-08-19 16:35:00 - src.data_preprocessing.data_preprocessor - INFO - 最终数据维度: X=(558646, 20, 20), y=(558646,)
2025-08-19 16:35:00 - __main__ - INFO - 数据预处理完成: 获得558646个样本，558646支股票
2025-08-19 16:35:00 - __main__ - INFO - 时序数据维度: X_sequence=(558646, 20, 20), y=(558646,)
2025-08-19 16:35:00 - __main__ - INFO - ====== 创建训练测试集 ======
2025-08-19 16:35:00 - src.data_preprocessing.data_preprocessor - INFO - Train/test split completed: 446916 train, 111730 test samples
2025-08-19 16:35:00 - __main__ - INFO - 数据分割完成:
2025-08-19 16:35:00 - __main__ - INFO -   训练集: 446916个样本 (80.0%)
2025-08-19 16:35:00 - __main__ - INFO -   测试集: 111730个样本 (20.0%)
2025-08-19 16:35:00 - __main__ - INFO - ====== 开始训练混合模型 ======
2025-08-19 16:35:00 - src.model.hybrid_predictor - INFO - 开始混合模型训练，样本数量: 446916
2025-08-19 16:35:00 - src.model.hybrid_predictor - INFO - 输入序列形状: (446916, 20, 20)
2025-08-19 16:35:00 - src.model.hybrid_predictor - INFO - 训练XGBoost模型...
2025-08-19 16:35:00 - src.model.hybrid_predictor - INFO - XGBoost input shape: (446916, 20)
2025-08-19 16:35:27 - src.model.hybrid_predictor - INFO - 训练GRU模型...
2025-08-19 17:08:53 - src.model.hybrid_predictor - INFO - 优化后的集成权重: {'xgb': np.float32(0.9), 'gru': np.float32(0.1)}
2025-08-19 17:08:53 - src.model.hybrid_predictor - INFO - XGBoost特征重要性计算完成，前5个特征索引: [ 8 18  2  0 19]
2025-08-19 17:08:53 - src.model.hybrid_predictor - WARNING - GRU特征重要性计算失败: name 'X_sequence' is not defined
2025-08-19 17:08:53 - src.model.hybrid_predictor - INFO - 特征重要性计算完成
2025-08-19 17:08:53 - src.model.hybrid_predictor - INFO - 混合模型训练完成
2025-08-19 17:08:53 - src.model.hybrid_predictor - INFO - 训练结果: {'gru_best_epoch': -19, 'gru_final_loss': 0.8744477033615112, 'gru_final_mae': 0.6190072298049927, 'ensemble_weights': {'xgb': np.float32(0.9), 'gru': np.float32(0.1)}, 'training_samples': 446916, 'feature_count': 20, 'sequence_length': 20}
2025-08-19 17:08:53 - __main__ - INFO - 模型训练完成
2025-08-19 17:08:53 - __main__ - INFO - ====== 评估模型性能 ======
2025-08-19 17:08:53 - __main__ - ERROR - 系统执行失败: Input data cannot be empty
Traceback (most recent call last):
  File "d:\Projects\stock_selection\main.py", line 113, in main
    evaluation_results = model.evaluate(None, X_test, y_test)
  File "d:\Projects\stock_selection\src\model\hybrid_predictor.py", line 298, in wrapper
    raise ValueError("Input data cannot be empty")
ValueError: Input data cannot be empty
2025-08-19 17:13:18 - __main__ - INFO - ====== 开始数据获取 ======
2025-08-19 17:13:18 - __main__ - INFO - 正常模式：使用3年数据
2025-08-19 17:13:18 - src.data_storage.data_saver - INFO - init saver, file path: ./data\stock_data.db
2025-08-19 17:13:18 - src.data_storage.data_saver - INFO - read stock_daily data from sqlite, sql command: select * from stock_daily where trade_date >= 20220820 and trade_date <= 20250819
2025-08-19 17:13:20 - __main__ - INFO - 获取数据完成: 20220822至20250818, 共574677条记录, 800支股票
2025-08-19 17:13:20 - __main__ - INFO - ====== 开始计算技术指标 ======
2025-08-19 17:13:30 - __main__ - INFO - 计算技术指标完成: 新增36个特征，总特征数=48
2025-08-19 17:13:30 - __main__ - INFO - 技术指标列表示例: ['CDL_HAMMER', 'CDL_DOJI', 'CDL_MORNINGSTAR', 'CDL_THREEWHITESOLDIERS', 'SAR', 'VWAP', 'StochRSI_K', 'StochRSI_D', 'price_momentum', 'volume_momentum']
2025-08-19 17:13:30 - __main__ - INFO - ====== 开始数据预处理 ======
2025-08-19 17:13:30 - __main__ - INFO - 数据质量检查...
2025-08-19 17:13:30 - src.data_preprocessing.data_preprocessor - INFO - 开始一站式数据准备和模型拟合...
2025-08-19 17:13:30 - src.data_preprocessing.data_preprocessor - INFO - 开始为所有股票准备训练数据...
2025-08-19 17:13:30 - src.data_preprocessing.data_preprocessor - INFO - 步骤1: 创建特征...
2025-08-19 17:13:30 - src.data_preprocessing.data_preprocessor - INFO - 开始创建特征，输入数据形状: (574677, 48)
2025-08-19 17:13:30 - src.data_preprocessing.data_preprocessor - INFO - 数据排序完成，股票数量: 800
2025-08-19 17:13:30 - src.data_preprocessing.data_preprocessor - INFO - 技术信号创建完成，新增特征数量: 1
2025-08-19 17:13:30 - src.data_preprocessing.data_preprocessor - INFO - 步骤2: 创建目标变量...
2025-08-19 17:13:30 - src.data_preprocessing.data_preprocessor - INFO - 开始创建目标变量，预测周期: 1
2025-08-19 17:13:30 - src.data_preprocessing.data_preprocessor - INFO - 目标变量创建完成，有效样本数: 573877, 均值: 0.0004, 标准差: 0.0255
2025-08-19 17:13:30 - src.data_preprocessing.data_preprocessor - INFO - 数据概览: 800 只股票, 574677 条记录
2025-08-19 17:13:30 - src.data_preprocessing.data_preprocessor - INFO - 步骤3: 全局特征选择...
2025-08-19 17:13:30 - src.data_preprocessing.data_preprocessor - INFO - 开始特征选择...
2025-08-19 17:13:31 - src.data_preprocessing.data_preprocessor - INFO - 原始特征数量: 42
2025-08-19 17:13:31 - src.data_preprocessing.data_preprocessor - INFO - 缺失值过滤后特征数量: 42 (过滤了 0 个)
2025-08-19 17:13:31 - src.data_preprocessing.data_preprocessor - INFO - 开始多重共线性检测，输入特征数量: 42
2025-08-19 17:13:33 - src.data_preprocessing.data_preprocessor - INFO - 预过滤高相关特征: 16 个 (相关系数>0.85)
2025-08-19 17:16:42 - src.data_preprocessing.data_preprocessor - INFO - 多重共线性检测完成: 最终选择 20 个特征
2025-08-19 17:16:42 - src.data_preprocessing.data_preprocessor - INFO - 多重共线性检测后最终特征数量: 20
2025-08-19 17:16:42 - src.data_preprocessing.data_preprocessor - INFO - 特征选择完成: 原始42 → 缺失值过滤42 → 去多重共线性20
2025-08-19 17:16:42 - src.data_preprocessing.data_preprocessor - INFO - 选择的特征: ['amount', 'amplitude', 'change', 'change_amount', 'turnover', 'MA5', 'MOM', 'ADX', 'MACD', 'MACD_Hist', 'VOL_MA5', 'OBV', 'CMF', 'CDL_BULLISH_ENGULFING', 'CDL_HAMMER', 'CDL_DOJI', 'CDL_MORNINGSTAR', 'CDL_THREEWHITESOLDIERS', 'volume_momentum', 'buy_signal_count']
2025-08-19 17:16:42 - src.data_preprocessing.data_preprocessor - INFO - 步骤4: 收集时序数据...
2025-08-19 17:16:58 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 50/800 只股票
2025-08-19 17:17:15 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 100/800 只股票
2025-08-19 17:17:34 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 150/800 只股票
2025-08-19 17:17:53 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 200/800 只股票
2025-08-19 17:18:13 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 250/800 只股票
2025-08-19 17:18:33 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 300/800 只股票
2025-08-19 17:18:56 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 350/800 只股票
2025-08-19 17:19:16 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 400/800 只股票
2025-08-19 17:19:38 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 450/800 只股票
2025-08-19 17:19:58 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 500/800 只股票
2025-08-19 17:20:16 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 550/800 只股票
2025-08-19 17:20:37 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 600/800 只股票
2025-08-19 17:20:59 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 650/800 只股票
2025-08-19 17:21:17 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 700/800 只股票
2025-08-19 17:21:34 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 750/800 只股票
2025-08-19 17:21:53 - src.data_preprocessing.data_preprocessor - INFO - 处理进度: 800/800 只股票
2025-08-19 17:21:54 - src.data_preprocessing.data_preprocessor - INFO - 数据准备完成:
2025-08-19 17:21:54 - src.data_preprocessing.data_preprocessor - INFO - - 处理股票数: 800/800
2025-08-19 17:21:54 - src.data_preprocessing.data_preprocessor - INFO - - 总样本数: 557877
2025-08-19 17:21:54 - src.data_preprocessing.data_preprocessor - INFO - - 特征维度: 20
2025-08-19 17:21:54 - src.data_preprocessing.data_preprocessor - INFO - - 时间步长: 20
2025-08-19 17:21:54 - src.data_preprocessing.data_preprocessor - INFO - 开始模型拟合，计算预处理参数...
2025-08-19 17:21:54 - src.data_preprocessing.data_preprocessor - INFO - 训练数据形状: X=(557877, 20, 20), y=(557877,)
2025-08-19 17:21:54 - src.data_preprocessing.data_preprocessor - INFO - 重塑后数据形状: (11157540, 20)
2025-08-19 17:21:54 - src.data_preprocessing.data_preprocessor - INFO - 计算缺失值填充值...
2025-08-19 17:21:59 - src.data_preprocessing.data_preprocessor - INFO - 缺失值统计: 总缺失值 0, 平均每特征 0.0
2025-08-19 17:21:59 - src.data_preprocessing.data_preprocessor - INFO - 计算异常值阈值...
2025-08-19 17:22:12 - src.data_preprocessing.data_preprocessor - INFO - 异常值统计: 总异常值 12940677, 平均每特征 647033.8
2025-08-19 17:22:12 - src.data_preprocessing.data_preprocessor - INFO - 开始数据清洗...
2025-08-19 17:22:19 - src.data_preprocessing.data_preprocessor - INFO - 处理目标变量...
2025-08-19 17:22:19 - src.data_preprocessing.data_preprocessor - INFO - 目标变量无需填充，均值: -0.0007
2025-08-19 17:22:19 - src.data_preprocessing.data_preprocessor - INFO - 计算目标变量异常值阈值...
2025-08-19 17:22:19 - src.data_preprocessing.data_preprocessor - INFO - 目标变量异常值范围: [-0.0789, 0.0776]
2025-08-19 17:22:19 - src.data_preprocessing.data_preprocessor - INFO - 目标变量异常值处理: 裁剪 9872/557877 个异常值
2025-08-19 17:22:19 - src.data_preprocessing.data_preprocessor - INFO - 拟合特征缩放器...
2025-08-19 17:22:24 - src.data_preprocessing.data_preprocessor - INFO - 拟合目标变量缩放器...
2025-08-19 17:22:24 - src.data_preprocessing.data_preprocessor - INFO - 模型拟合完成，所有预处理参数已计算
2025-08-19 17:22:32 - src.data_preprocessing.data_preprocessor - INFO - 一站式处理完成: 获得557877个样本，557877支股票
2025-08-19 17:22:32 - src.data_preprocessing.data_preprocessor - INFO - 最终数据维度: X=(557877, 20, 20), y=(557877,)
2025-08-19 17:22:32 - __main__ - INFO - 数据预处理完成: 获得557877个样本，557877支股票
2025-08-19 17:22:32 - __main__ - INFO - 时序数据维度: X_sequence=(557877, 20, 20), y=(557877,)
2025-08-19 17:22:32 - __main__ - INFO - ====== 创建训练测试集 ======
2025-08-19 17:22:32 - src.data_preprocessing.data_preprocessor - INFO - Train/test split completed: 446301 train, 111576 test samples
2025-08-19 17:22:32 - __main__ - INFO - 数据分割完成:
2025-08-19 17:22:32 - __main__ - INFO -   训练集: 446301个样本 (80.0%)
2025-08-19 17:22:32 - __main__ - INFO -   测试集: 111576个样本 (20.0%)
2025-08-19 17:22:32 - __main__ - INFO - ====== 开始训练混合模型 ======
2025-08-19 17:22:32 - src.model.hybrid_predictor - INFO - 开始混合模型训练，样本数量: 446301
2025-08-19 17:22:32 - src.model.hybrid_predictor - INFO - 输入序列形状: (446301, 20, 20)
2025-08-19 17:22:32 - src.model.hybrid_predictor - INFO - 训练XGBoost模型...
2025-08-19 17:22:32 - src.model.hybrid_predictor - INFO - XGBoost input shape: (446301, 20)
2025-08-19 17:23:05 - src.model.hybrid_predictor - INFO - 训练GRU模型...
2025-08-19 18:00:38 - src.model.hybrid_predictor - INFO - 优化后的集成权重: {'xgb': np.float32(0.9), 'gru': np.float32(0.1)}
2025-08-19 18:00:38 - src.model.hybrid_predictor - INFO - XGBoost特征重要性计算完成，前5个特征索引: [ 8  2 18  0 19]
2025-08-19 18:00:38 - src.model.hybrid_predictor - WARNING - GRU特征重要性计算失败: name 'X_sequence' is not defined
2025-08-19 18:00:38 - src.model.hybrid_predictor - INFO - 特征重要性计算完成
2025-08-19 18:00:38 - src.model.hybrid_predictor - INFO - 混合模型训练完成
2025-08-19 18:00:38 - src.model.hybrid_predictor - INFO - 训练结果: {'gru_best_epoch': -19, 'gru_final_loss': 0.8739040493965149, 'gru_final_mae': 0.6192191243171692, 'ensemble_weights': {'xgb': np.float32(0.9), 'gru': np.float32(0.1)}, 'training_samples': 446301, 'feature_count': 20, 'sequence_length': 20}
2025-08-19 18:00:38 - __main__ - INFO - 模型训练完成
2025-08-19 18:00:38 - __main__ - INFO - ====== 评估模型性能 ======
2025-08-19 18:02:54 - __main__ - INFO - 模型评估结果:
2025-08-19 18:02:54 - __main__ - INFO -   mse: 1.6001
2025-08-19 18:02:54 - __main__ - INFO -   mae: 0.8404
2025-08-19 18:02:54 - __main__ - INFO -   rmse: 1.2650
2025-08-19 18:02:54 - __main__ - INFO -   r2_score: 0.0157
2025-08-19 18:02:54 - __main__ - INFO -   direction_accuracy: 0.5196
2025-08-19 18:02:54 - __main__ - INFO -   profitable_accuracy: 0.4653
2025-08-19 18:02:54 - __main__ - INFO -   predicted_mean: 0.011640189215540886
2025-08-19 18:02:54 - __main__ - INFO -   predicted_std: 0.21055477857589722
2025-08-19 18:02:55 - __main__ - INFO -   actual_mean: 0.0071
2025-08-19 18:02:55 - __main__ - INFO -   actual_std: 1.2750
2025-08-19 18:02:55 - __main__ - INFO -   correlation: 0.1301
2025-08-19 18:02:55 - __main__ - INFO -   sample_count: 111576.0000
2025-08-19 18:02:55 - __main__ - INFO - 生成T+1股票推荐...
2025-08-19 18:02:55 - __main__ - ERROR - 系统执行失败: Input data cannot be empty
Traceback (most recent call last):
  File "d:\Projects\stock_selection\main.py", line 124, in main
    logger.info("生成T+1股票推荐...")
  File "d:\Projects\stock_selection\src\model\hybrid_predictor.py", line 298, in wrapper
    raise ValueError("Input data cannot be empty")
ValueError: Input data cannot be empty
2025-08-19 18:04:02 - __main__ - INFO - ====== 开始数据获取 ======
2025-08-19 18:04:02 - __main__ - INFO - 正常模式：使用3年数据
2025-08-19 18:04:02 - src.data_storage.data_saver - INFO - init saver, file path: ./data\stock_data.db
2025-08-19 18:04:02 - src.data_storage.data_saver - INFO - read stock_daily data from sqlite, sql command: select * from stock_daily where trade_date >= 20220820 and trade_date <= 20250819
